---
import dayjs from 'dayjs';
import advancedformat from 'dayjs/plugin/advancedFormat';

dayjs.extend(advancedformat);

interface Props {
  active: boolean;
  date: string;
  title: string[];
}

const { active, date, title } = Astro.props;
const formattedDate = dayjs(date).format('Do of MMMM');
---

<header class="mb-10">
  <p class="mx-5 mb-1"><strong>Date:</strong> {formattedDate}</p>
  <div class="flex flex-col items-stretch gap-2 md:flex-row">
    <div class="w-full rounded-lg bg-neutral-1 p-5 text-center md:text-right">
      <p class="text-xl">{title[0]}</p>
      <h2 class="my-2 text-xl font-bold">{title[1]}</h2>
      <h1 class="text-3xl font-bold">{title[2]}</h1>
    </div>
    {active && (
      <div class="min-w-fit flex flex-col justify-center rounded-lg bg-neutral-2 p-5 text-center">
        <p class="mb-3 text-lg font-medium">Register<br /> for upcoming retreat</p>
        <a href="#" class="register">Registration</a>
      </div>
    )}
  </div>
</header>

<style>
  .register {
    @apply inline-block rounded-lg px-15 py-3 text-xl font-bold bg-blue hover:bg-neutral-9 c-white transition-all w-full md:w-auto;
  }
</style>
